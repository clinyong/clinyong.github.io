<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    
      <title>
        新工作半年总结以及学习 Deno 的一点感受 | Leodots
      </title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <style type="text/css" data-styled-components="djiuUw ehFhRk bjznky ehsBOr cKUUOL bUfeR dQozFt bxrUCS hBdBXi gQextd" data-styled-components-is-local="true">/* sc-component-id: sc-bdVaJa */
.sc-bdVaJa {}

.djiuUw{display:block;text-align:center;padding:0;margin:0;padding-top:30px;list-style:none;height:55px;margin-left:calc(100vw - 100%);}@media screen and (max-width:770px){.djiuUw{display:none;}}
/* sc-component-id: sc-bwzfXH */
.sc-bwzfXH {}

.ehFhRk{text-align:center;font-size:18px;margin:0 25px;display:inline-block;}.ehFhRk:hover{border-bottom:2px solid #222;}.ehFhRk > a{-webkit-text-decoration:none;text-decoration:none;color:#222;}
/* sc-component-id: sc-htpNat */
.sc-htpNat {}

.bjznky{position:relative;}@media screen and (min-width:770px){.bjznky{display:none;}}
/* sc-component-id: sc-bxivhb */
.sc-bxivhb {}

.ehsBOr{text-align:center;background-color:#464d5c;color:#fff;padding:40px 10px;font-size:40px;}
/* sc-component-id: sc-ifAKCX */
.sc-ifAKCX {}

.cKUUOL{color:#bee178;}
/* sc-component-id: sc-EHOje */
.sc-EHOje {}

.bUfeR{position:absolute;right:0px;padding:19px 19px;top:0px;border-radius:50%;background-color:transparent;border-color:transparent;-webkit-transition:0.5s background-color;transition:0.5s background-color;}
/* sc-component-id: sc-bZQynM */
.sc-bZQynM {}

.dQozFt{height:2px;width:18px;margin-bottom:3px;display:block;background-color:#bee178;}
/* sc-component-id: sc-gzVnrw */
.sc-gzVnrw {}

.bxrUCS{position:absolute;right:20px;top:42px;width:150px;height:125px;background-color:#fff;box-shadow:rgba(0,0,0,0.117647) 0 1px 6px, rgba(0,0,0,0.239216) 0 1px 4px;-webkit-transition:0.2s;transition:0.2s;overflow:hidden;padding:10px 0;}.bxrUCS > li{list-style:none;}.bxrUCS > li > a{-webkit-text-decoration:none;text-decoration:none;color:#777;display:block;padding:10px 20px;}
/* sc-component-id: sc-htoDjs */
.sc-htoDjs {}

.hBdBXi{position:absolute;bottom:20px;left:0;right:0;text-align:center;font-size:12px;}
/* sc-component-id: sc-dnqmqq */
.sc-dnqmqq {}

.gQextd{color:#999;}.gQextd > a{color:#bee178 !important;-webkit-text-decoration:none;text-decoration:none;}@media screen and (min-width:770px){.gQextd > a{color:#108ee9 !important;-webkit-text-decoration:underline;text-decoration:underline;}}
</style><style type="text/css" data-styled-components="" data-styled-components-is-local="false">/* sc-component-id: sc-global-1576189413 */
html{position:relative;background-color:#464d5c;font-family:'PingFang SC','Hiragino Sans GB','Microsoft Yahei','WenQuanYi Micro Hei',sans-serif;}@media screen and (min-width:770px){html{background-color:#ECF0F1;}}html,body{min-height:100vh;margin:0;padding:0;}#app{min-height:100vh;}
</style><style type="text/css" data-styled-components="gkwKrD gIWTme iLKjzi fCjyQ kqQANZ frgWBf OaFaI" data-styled-components-is-local="true">/* sc-component-id: sc-iwsKbI */
.sc-iwsKbI {}

.gkwKrD{position:relative;min-height:100vh;}
/* sc-component-id: sc-gZMcBi */
.sc-gZMcBi {}

.gIWTme{padding-bottom:60px;}@media screen and (min-width:770px){.gIWTme{padding:0px 0 100px;margin-left:calc(100vw - 100%);}}
/* sc-component-id: sc-gqjmRU */
.sc-gqjmRU {}

.iLKjzi{padding:20px 15px 25px;background-color:#fff;}@media screen and (min-width:770px){.iLKjzi{box-sizing:border-box;width:768px;margin:0 auto;padding-left:40px;padding-right:40px;box-shadow:0px 30px 60px 0px #d3dde2;}}
/* sc-component-id: sc-VigVT */
.sc-VigVT {}

.kqQANZ{margin-top:0;margin-bottom:30px;text-align:center;font-size:24px;}@media screen and (min-width:770px){.kqQANZ{font-size:30px;}}
/* sc-component-id: sc-jTzLTM */
.sc-jTzLTM {}

.frgWBf{text-align:center;color:#999;margin-top:50px;font-size:12px;-webkit-text-decoration:underline;text-decoration:underline;}
/* sc-component-id: sc-fjdhpX */
.sc-fjdhpX {}

.OaFaI{background-color:#fff;padding-top:60px;}
/* sc-component-id: sc-jzJRlG */
.sc-jzJRlG {}

.fCjyQ{background-color:#fff;font-size:15px;color:#333;}@media screen and (min-width:770px){.fCjyQ{min-height:500px;}.fCjyQ a:hover{-webkit-text-decoration:underline;text-decoration:underline;cursor:pointer;}}.fCjyQ a{color:#3194d0;}.fCjyQ p,.fCjyQ li{line-height:1.8;}.fCjyQ img{display:block;max-width:100%;margin:0 auto 30px;}@media screen and (min-width:770px){.fCjyQ img{max-width:500px;}}.fCjyQ code{background:#f2f2f2;padding:2px 5px;}.fCjyQ pre{background:#f2f2f2;padding:20px;overflow-x:auto;line-height:1.8;}.fCjyQ pre > code{padding:0;}.fCjyQ blockquote{margin-left:0;padding:0 1em;color:#6a737d;border-left:0.25em solid #dfe2e5;}
</style>
</head>

<body>
    <div id="app"><div class="sc-iwsKbI gkwKrD" data-reactroot=""><div><ul class="sc-bdVaJa djiuUw"><li class="sc-bwzfXH ehFhRk"><a href="/">首页</a></li><li class="sc-bwzfXH ehFhRk"><a href="/archive.html">归档</a></li><li class="sc-bwzfXH ehFhRk"><a href="/about.html">关于</a></li></ul><div class="sc-htpNat bjznky"><div class="sc-bxivhb ehsBOr"><span class="sc-ifAKCX cKUUOL">&lt;Leodots /&gt;</span></div><button class="sc-EHOje bUfeR"><span class="sc-bZQynM dQozFt"></span><span class="sc-bZQynM dQozFt"></span><span class="sc-bZQynM dQozFt"></span></button><ul class="sc-gzVnrw bxrUCS" style="width:0;height:0"><li><a href="/">首页</a></li><li><a href="/archive.html">归档</a></li><li><a href="/about.html">关于</a></li></ul></div></div><div class="sc-gZMcBi gIWTme"><div class="sc-gqjmRU iLKjzi"><div class="sc-jzJRlG fCjyQ"><div class="sc-VigVT kqQANZ">新工作半年总结以及学习 Deno 的一点感受</div><div class="sc-jzJRlG fCjyQ"><p>这篇文章原本是 2 月份工作总结，最后一段个人总结也记录了最近学 Deno 的一点感受，所以就一起贴到博客。</p>
<h2 id="">正文</h2>
<p>2 月份也刚好转正，虽然每周只放一天假，还是觉得时间比以前过得快很多。</p>
<p>技术上面，半年的时间，大部分时候都处于自己的舒适圈，虽然在团队里面有一点小的产出，但是比起其他同学，感觉自己没什么进步。自己属于非科班出身的程序员，加上之前也没好好努力，导致到现在计算机基础都很差。后面也会把更多业余时间放在这块。</p>
<p>另外一点感触比较深的是，有一个晚上发布移动端的组件包，刚发布完不久，下载量一下子就到了 30 多万，那时候真是对写代码这件事有了敬畏之心。</p>
<p>最后分享一下最近在看的 Deno 源码。很早之前就知道 Deno，一开始只是 watch 了它的 release。每周都能收到更新邮件，所以偶然又搜了一点 Deno 的资料。在看到 <a href="https://denolib.gitbook.io/guide/">A Guide to Deno Core</a> 后，发现自己还是很有机会能看懂整个实现，所以就一发不可收拾。。。</p>
<p>看完实现之后，大概可以知道下面这些</p>
<ul>
<li>编程语言，Rust，C++，Go，TypeScript，Python</li>
<li>Chrome 的构建系统，GN，Ninja</li>
<li>flatbuffers，protobuf</li>
<li>V8</li>
<li>…</li>
</ul>
<p>上面只是独立地罗列了一些点，当把这些都结合在一起的时候就会变得很有趣。比如各种语言之间是怎样通信的，为什么用 flatbuffers 代替 protobuf，怎样把 TypeScript 的编译器加入到 V8 的快照里面等。</p>
<p>因为 Deno 意外地接触到 Rust，不愧是 <a href="https://insights.stackoverflow.com/survey/2018/#most-loved-dreaded-and-wanted">StackOverflow</a> 上面最受开发者喜欢的语言，体验真的很好。而且 Rust 对 Node 的<a href="https://github.com/neon-bindings/neon">支持</a>也挺好的。</p>
<p>看官方文档关于<a href="https://doc.rust-lang.org/book/ch04-01-what-is-ownership.html">内存管理</a>这块提到</p>
<blockquote>
  <p>Note: In C++, this pattern of deallocating resources at the end of an item’s lifetime is sometimes called Resource Acquisition Is Initialization (RAII).</p>
</blockquote>
<p>Deno 要调用 V8 的 API，所以也有一部分 C++ 的代码，里面出现很多类似下面这样的写法</p>
<pre><code class="cpp language-cpp">v8::Isolate* isolate = v8::Isolate::New(params);

{
  v8::HandleScope handle_scope(isolate);
}
</code></pre>
<p><code>HandleScope</code> 是一个类，这里创建了一个 <code>handle_scope</code> 的变量。一开始觉得这种写法特别奇怪，在看了<a href="https://book.douban.com/subject/30247892/">《Node.js：来一打 C++ 扩展》</a>之后才知道，这里利用了 C++ 作用域中对象生命周期的特性。查了下谷歌，原来这种特性就是 Rust 文档说的 <code>RAII</code>，真是有种 <a href="https://youtu.be/UF8uR6Z6KLc?t=55">connect the dots</a> 的感觉。</p></div><div class="sc-jTzLTM frgWBf">2019.03.09</div></div><div class="sc-fjdhpX OaFaI" id="disqus_thread"></div></div></div><div class="sc-htoDjs hBdBXi"><span class="sc-dnqmqq gQextd">Powered by <a href="https://github.com/clinyong/cubi">Cubi</a>,  </span><span class="sc-dnqmqq gQextd">Hosted by <a href="https://pages.coding.me">Coding Pages</a></span></div></div></div>
    
      <script>
          if ('serviceWorker' in navigator) {
            window.addEventListener('load', function () {
              navigator.serviceWorker.register('/sw.js');
            });
          }
      </script>
      
    <script>
		
    </script>
    <script>
		var INIT_PROPS = {"content":{"meta":{"title":"新工作半年总结以及学习 Deno 的一点感受","date":"2019.03.09"},"content":"\n这篇文章原本是 2 月份工作总结，最后一段个人总结也记录了最近学 Deno 的一点感受，所以就一起贴到博客。\n\n## 正文\n\n2 月份也刚好转正，虽然每周只放一天假，还是觉得时间比以前过得快很多。\n\n技术上面，半年的时间，大部分时候都处于自己的舒适圈，虽然在团队里面有一点小的产出，但是比起其他同学，感觉自己没什么进步。自己属于非科班出身的程序员，加上之前也没好好努力，导致到现在计算机基础都很差。后面也会把更多业余时间放在这块。\n\n另外一点感触比较深的是，有一个晚上发布移动端的组件包，刚发布完不久，下载量一下子就到了 30 多万，那时候真是对写代码这件事有了敬畏之心。\n\n最后分享一下最近在看的 Deno 源码。很早之前就知道 Deno，一开始只是 watch 了它的 release。每周都能收到更新邮件，所以偶然又搜了一点 Deno 的资料。在看到 [A Guide to Deno Core](https://denolib.gitbook.io/guide/) 后，发现自己还是很有机会能看懂整个实现，所以就一发不可收拾。。。\n\n看完实现之后，大概可以知道下面这些\n\n- 编程语言，Rust，C++，Go，TypeScript，Python\n- Chrome 的构建系统，GN，Ninja\n- flatbuffers，protobuf\n- V8\n- ...\n\n上面只是独立地罗列了一些点，当把这些都结合在一起的时候就会变得很有趣。比如各种语言之间是怎样通信的，为什么用 flatbuffers 代替 protobuf，怎样把 TypeScript 的编译器加入到 V8 的快照里面等。\n\n因为 Deno 意外地接触到 Rust，不愧是 [StackOverflow](https://insights.stackoverflow.com/survey/2018/#most-loved-dreaded-and-wanted) 上面最受开发者喜欢的语言，体验真的很好。而且 Rust 对 Node 的[支持](https://github.com/neon-bindings/neon)也挺好的。\n\n看官方文档关于[内存管理](https://doc.rust-lang.org/book/ch04-01-what-is-ownership.html)这块提到\n\n&gt; Note: In C++, this pattern of deallocating resources at the end of an item’s lifetime is sometimes called Resource Acquisition Is Initialization (RAII).\n\n\nDeno 要调用 V8 的 API，所以也有一部分 C++ 的代码，里面出现很多类似下面这样的写法\n\n```cpp\nv8::Isolate* isolate = v8::Isolate::New(params);\n\n{\n  v8::HandleScope handle_scope(isolate);\n}\n```\n\n`HandleScope` 是一个类，这里创建了一个 `handle_scope` 的变量。一开始觉得这种写法特别奇怪，在看了[《Node.js：来一打 C++ 扩展》](https://book.douban.com/subject/30247892/)之后才知道，这里利用了 C++ 作用域中对象生命周期的特性。查了下谷歌，原来这种特性就是 Rust 文档说的 `RAII`，真是有种 [connect the dots](https://youtu.be/UF8uR6Z6KLc?t=55) 的感觉。\n"}};
    </script>
    
    <script src=/js/vendors.f58cabc9.dll.js></script>
    
    <script src=/js/__post.6c7dc1cb.dll.js></script>
    
    <script src=/js/post.9e5c2604.js></script>
    
</body>

</html>
